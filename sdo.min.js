(function(){var t,n,r,e,o,i,s,u,a,l,c,h,p,f,_,y,g,d,m,v,b=function(t,n){return function(){return t.apply(n,arguments)}},k=[].indexOf||function(t){for(var n=0,r=this.length;r>n;n++)if(n in this&&this[n]===t)return n;return-1},w=[].slice,C={}.hasOwnProperty,P=function(t,n){function r(){this.constructor=t}for(var e in n)C.call(n,e)&&(t[e]=n[e]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};d=this,m=Array.prototype.slice,v=Object.prototype.toString,g=Object.prototype.hasOwnProperty,_=function(){var t,n,r,e,o,i;for(n=/\[object HTML(.*)\]/,t={},i="Boolean Number String Function Array Date RegExp Undefined Null NodeList".split(" "),e=0,o=i.length;o>e;e++)r=i[e],t["[object "+r+"]"]=r.toLowerCase();return function(r){var e,o;return o=v.call(r),(e=t[o])?e:(e=o.match(n))?e[1].toLowerCase():"object"}}(),u=function(t){var n,r,e,o,i,s;for(s=m.call(arguments,1),o=0,i=s.length;i>o;o++)if(r=s[o])for(n in r)e=r[n],null==t[n]&&(t[n]=e);return t},a=function(t){var n,r,e,o,i,s;for(s=m.call(arguments,1),o=0,i=s.length;i>o;o++)if(r=s[o])for(n in r)e=r[n],t[n]=e;return t},s=function(t){return a({},t)},p=function(t){return m.call(t,0)},i=function(t,n){var r,e,o,i;for(i=[],e=0,o=t.length;o>e;e++)r=t[e],r(!n)&&i.push(r);return i},h=function(t){var n;if(!t)return!0;for(n in t)return!1;return!0},l=function(t,n){return n in t},f=function(t,n){var r;return l(t,n)?(r=t[n],("function"==typeof r?r():void 0)||r):void 0},y=function(t){var n;for(null==t&&(t=36),n=(new Date).getTime();n<=y._lastTimestamp;)n+=1;return y._lastTimestamp=n,n.toString(t)},t=function(){function t(t){this._changed=b(this._changed,this),this._callbacks=[],null!=t&&this.onChange(t)}return t.prototype.onChange=function(t,n){return null==n&&(n=!1),n?this._callbacks=i(this._callbacks,t):k.call(this._callbacks,t)<0&&this._callbacks.push(t),this},t.prototype._changed=function(){var t,n,r,e,o;for(n=1<=arguments.length?w.call(arguments,0):[],o=this._callbacks,r=0,e=o.length;e>r;r++)t=o[r],t.apply(null,n);return this},t}(),r=function(t){function n(t,r){var e;"function"===_(t)&&(r=t,t={}),t||(t={}),n.__super__.constructor.call(this,r),e=f(this,"defaults")||{},this._atts=a({},e,t)}return P(n,t),n.prototype.setPair=function(t,n,r){return n!==this._atts[t]?(this._atts[t]=n,r||this._changed([t],this),!0):!1},n.prototype.set=function(t,n){var r,e,o;if("string"===_(t))return this.setPair(t,n);e=[];for(r in t)C.call(t,r)&&(o=t[r],this.setPair(r,o,!0)&&e.push(r));return e.length>0?(this._changed(e,this),!0):!1},n.prototype.get=function(t){return 0===arguments.length?this._atts:this._atts[t]},n.prototype.remove=function(t){var n;return g.call(this._atts,t)?(n=this._atts[t],delete this._atts[t],this._changed(t),n):null},n.prototype.toProps=function(){return this._atts},n}(t),e=function(t){function n(t){n.__super__.constructor.call(this,t),this._list=[],this._comparator=null}return P(n,t),n.prototype.create=function(t){var n;if(null==t&&(t={}),null!=this.ItemClass)return n=new this.ItemClass(t),this.add(n),n;throw new Error("To create items you must specify a ItemClass property.")},n.prototype.add=function(t){return k.call(this._list,t)<0&&(this._list.push(t),t.onChange(this._changed)),this},n.prototype.remove=function(t){return this._list=i(this._list,t),t.onChange(this._changed,!0),this},n.prototype.get=function(t){return 0===arguments.length?this._list:this._list[t]},n.prototype.toProps=function(){var t,n,r,e,o;for(e=this._list,o=[],n=0,r=e.length;r>n;n++)t=e[n],o.push(t.toProps());return o},n}(t),n=function(t){function n(t,r){var e,o;if(n.__super__.constructor.call(this,r),this._keys=[],_("object"===t))for(e in t)C.call(t,e)&&(o=t[e],this.add(e,o))}return P(n,t),n.prototype.add=function(t,n){return"function"===_(n)&&(n=new n),this[t]=n,k.call(this._keys,t)<0&&this._keys.push(t),n.onChange(this._changed),this},n.prototype.remove=function(t){var n;return n=this[t],null!=n?(n.onChange(this._changed,!0),delete this[t],this._keys=i(this._keys,t),n):null},n.prototype.set=function(t,n,r){return this[t].set(n,r)},n.prototype.get=function(t,n){return this[t].get(n)},n.prototype.toProps=function(){var t,n,r,e,o;for(t={},o=this._keys,r=0,e=o.length;e>r;r++)n=o[r],t[n]=this[n].toProps();return t},n}(t),c=function(t,n){var r,e,o;return o=this,e=null!=t&&g.call(t,"constructor")?t.constructor:function(){return o.apply(this,arguments)},a(e,o,n),r=function(){return this.constructor=e,this},r.prototype=o.prototype,e.prototype=new r,null!=t&&a(e.prototype,t),e.__super__=o.prototype,e},n.extend=e.extend=r.extend=c,o={uid:y,type:_,extend:a,defaults:u,Hash:r,List:e,Graph:n},"undefined"!=typeof module&&null!==module?"undefined"!=typeof module&&null!==module&&(module.exports=o):this.SDO=o}).call(this);