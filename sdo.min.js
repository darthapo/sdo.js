(function(){var t,n,r,e,o,i,s,u,l,a,h,c,f,p,g,d,y,m=[].indexOf||function(t){for(var n=0,r=this.length;r>n;n++)if(n in this&&this[n]===t)return n;return-1},v=function(t,n){return function(){return t.apply(n,arguments)}},k=[].slice,b={}.hasOwnProperty,w=function(t,n){function r(){this.constructor=t}for(var e in n)b.call(n,e)&&(t[e]=n[e]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};d=Array.prototype.slice,y=Object.prototype.toString,f=function(){var t,n,r,e,o,i;for(n=/\[object HTML(.*)\]/,t={},i="Boolean Number String Function Array Date RegExp Undefined Null NodeList".split(" "),e=0,o=i.length;o>e;e++)r=i[e],t["[object "+r+"]"]=r.toLowerCase();return function(r){var e,o;return o=y.call(r),(e=t[o])?e:(e=o.match(n))?e[1].toLowerCase():"object"}}(),s=function(t){var n,r,e,o,i,s;for(s=d.call(arguments,1),o=0,i=s.length;i>o;o++)if(r=s[o])for(n in r)e=r[n],null==t[n]&&(t[n]=e);return t},u=function(t){var n,r,e,o,i,s;for(s=d.call(arguments,1),o=0,i=s.length;i>o;o++)if(r=s[o])for(n in r)e=r[n],t[n]=e;return t},i=function(t){return u({},t)},h=function(t){return d.call(t,0)},o=function(t,n){var r,e,o,i;for(i=[],e=0,o=t.length;o>e;e++)r=t[e],m.call(n,r)<0&&i.push(r);return i},e=function(t,n){var r,e,o,i;for(i=[],e=0,o=t.length;o>e;e++)r=t[e],r(!n)&&i.push(r);return i},a=function(t){var n;if(!t)return!0;for(n in t)return!1;return!0},l=function(t,n){return n in t},c=function(t,n){var r;return l(t,n)?(r=t[n],("function"==typeof r?r():void 0)||r):void 0},p=function(t){var n;for(null==t&&(t=36),n=(new Date).getTime();n<=p._lastTimestamp;)n+=1;return p._lastTimestamp=n,n.toString(t)},g=function(){function t(t){this._changed=v(this._changed,this),this._callbacks=[],null!=t&&this.onChange(t)}return t.prototype.onChange=function(t,n){return null==n&&(n=!1),n?this._callbacks=e(this._callbacks,t):this._callbacks.push(t),this},t.prototype._changed=function(){var t,n,r,e,o;for(n=1<=arguments.length?k.call(arguments,0):[],o=this._callbacks,r=0,e=o.length;e>r;r++)t=o[r],t.apply(null,n);return this},t}(),r=function(t){function n(t,r){"function"===f(t)&&(r=t,t={}),t||(t={}),n.__super__.constructor.call(this,r),s=c(this,"defaults")||{},this.atts=u({},t,s)}return w(n,t),n.prototype.set=function(t,n){return"string"!==f(t)?(u(this.atts,t),this._changed(_.keys(t))):n!==this.atts[t]?(this.atts[t]=n,this._changed([t])):void 0},n.prototype.get=function(t){return 0===arguments.length?this.atts:this.atts[t]},n.prototype.toProps=function(){return i(this.atts)},n}(g),n=function(t){function n(t){n.__super__.constructor.call(this,t),this._list=[],this._comparator=null}return w(n,t),n.prototype.create=function(t){var n;if(null==t&&(t={}),null!=this.Model)return n=new this.Model(t),this.add(n),n;throw new Error("To create models you must specify a Model property.")},n.prototype.add=function(t){return this._list.push(t),t.onChange(this._changed),this},n.prototype.remove=function(t){return this._list=e(this._list,t),t.onChange(this._changed,!0),this},n.prototype.get=function(t){return 0===arguments.length?this._list:this._list[t]},n.prototype.toProps=function(){var t,n,r,e,o;for(t=[],o=this._list,r=0,e=o.length;e>r;r++)n=o[r],t.push(n.toProps());return t},n}(g),t=function(t){function n(t,r){var e,o;if(n.__super__.constructor.call(this,r),this._keys=[],null!=t)for(e in t)b.call(t,e)&&(o=t[e],this.add(e,o))}return w(n,t),n.prototype.add=function(t,n){return"function"===f(n)&&(n=new n),this[t]=n,this._keys.push=t,n.onChange(this._changed),this},n.prototype.remove=function(t){var n;return n=this[t],null!=n?(n.onChange(this._changed,!0),delete this[t],this._keys=e(this._keys,t),n):null},n.prototype.toProps=function(){var t,n,r,e,o;for(t={},o=this._keys,r=0,e=o.length;e>r;r++)n=o[r],t[n]=t[n].toProps();return t},n}(g),"undefined"!=typeof module&&null!==module?"undefined"!=typeof module&&null!==module&&(module.exports={Model:r,List:n,Hash:t}):this.SDO={Model:r,List:n,Hash:t}}).call(this);