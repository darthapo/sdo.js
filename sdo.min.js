/* simple data objects - http://github.com/darthapo/sdo.js */
(function(){var t,n,e,i,o,r,s,u,h,l,f=function(t,n){return function(){return t.apply(n,arguments)}},a=[].indexOf||function(t){for(var n=0,e=this.length;e>n;n++)if(n in this&&this[n]===t)return n;return-1},p={}.hasOwnProperty,c=function(t,n){function e(){this.constructor=t}for(var i in n)p.call(n,i)&&(t[i]=n[i]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t};u=this,h=Array.prototype.slice,l=Object.prototype.toString,r=function(){var t,n,e,i,o,r;for(n=/\[object HTML(.*)\]/,t={},r="Array Boolean Date Function NodeList Null Number RegExp String Undefined ".split(" "),i=0,o=r.length;o>i;i++)e=r[i],t["[object "+e+"]"]=e.toLowerCase();return function(e){var i,o;return o=l.call(e),(i=t[o])?i:(i=o.match(n))?i[1].toLowerCase():"object"}}(),s=function(){var t,n;return t=0,n=36,function(){var e;for(e=(new Date).getTime();t>=e;)e+=1;return t=e,e.toString(n)}}(),e=function(){function t(){this._notifyChange=f(this._notifyChange,this)}return t.prototype.onChange=function(t,n){var e;return null==this._listeners&&(this._listeners=[]),n?this._listeners=function(){var n,i,o,r;for(o=this._listeners,r=[],n=0,i=o.length;i>n;n++)e=o[n],e!==t&&r.push(e);return r}.call(this):a.call(this._listeners,t)<0?this._listeners.push(t):void 0},t.prototype._notifyChange=function(t){var n,e,i,o,r;if(!(this._listeners&&this._listeners.length>0))return null;for(o=this._listeners,r=[],e=0,i=o.length;i>e;e++)n=o[e],r.push(n(t,this));return r},t}(),function(t){return t.uid=s,t.type=r}(("undefined"!=typeof module&&null!==module?module.exports:void 0)||this),t=function(t){function n(t,e){return this===u?new n(t,e):(n.__super__.constructor.apply(this,arguments),this._atts={},t&&this.set(t),e&&this.onChange(e),void 0)}return c(n,t),n.prototype.set=function(t,n,e){return 2===arguments.length?o(this._atts,t,n,e,this._notifyChange):i(this._atts,t,e,this._notifyChange)},n.prototype.get=function(t){var n,e,i;if(1===arguments.length)return this._atts[t];n={},i=this._atts;for(t in i)e=i[t],n[t]=(null!=e?"function"==typeof e.get?e.get():void 0:void 0)||e;return n},n}(e),o=function(t,n,e,i,o){var r;return e!==t[n]?(r=t[n],null!=r&&"function"==typeof r.onChange&&r.onChange(o,!1),t[n]=e,i||o([n]),null!=e&&"function"==typeof e.onChange&&e.onChange(o),!0):!1},i=function(t,n,e,i){var r,s,u;s=[];for(r in n)p.call(n,r)&&(u=n[r],o(t,r,u,!0,i)&&s.push(r));return s.length>0?(e||i(s),!0):!1},function(n){return n.Hash=t}(("undefined"!=typeof module&&null!==module?module.exports:void 0)||this),n=function(t){function n(t,e){return this===u?new n(t,e):(this._list=[],this.length=0,t&&this.addAll(t),e&&this.onChange(e),void 0)}return c(n,t),n.prototype.add=function(t,n){return this._list.push(t),null!=t&&"function"==typeof t.onChange&&t.onChange(this._notifyChange),this.length=this._list.length,n||this._notifyChange("add"),this},n.prototype.addAll=function(t,n){var e,i,o;for(i=0,o=t.length;o>i;i++)e=t[i],this.add(e,n);return this},n.prototype.remove=function(t,n){var e;return this._list=function(){var n,i,o,r;for(o=this._list,r=[],n=0,i=o.length;i>n;n++)e=o[n],e!==t&&r.push(e);return r}.call(this),null!=t&&"function"==typeof t.onChange&&t.onChange(this._notifyChange,!0),this.length=this._list.length,n||this._notifyChange("remove"),this},n.prototype.get=function(t){var n,e,i,o,r;if(0===arguments.length){for(o=this._list,r=[],e=0,i=o.length;i>e;e++)n=o[e],r.push((null!=n?"function"==typeof n.get?n.get():void 0:void 0)||n);return r}return this._list[t]},n.prototype.items=function(){return this._list},n.prototype.clear=function(t){var n,e,i,o;for(o=this._list,e=0,i=o.length;i>e;e++)n=o[e],this.remove(n,!0);return t||this._notifyChange("clear"),this},n}(e),function(t){return t.List=n}(("undefined"!=typeof module&&null!==module?module.exports:void 0)||this)}).call(this);